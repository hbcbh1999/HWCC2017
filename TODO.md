# TODO

## 问题分析

给定一个连通的无向图，边有容量和费用。

点中有两类特殊点：

A点（消费节点）：给定，有到达流量需求。

B点（视频内容服务器）：待定，提供输出的源点，有固定费用。

求满足需求及容量要求下，部署哪些B点使得 B点总费用 + 边费用 最低。若不能满足则输出无解。


## 求解

问题即设施选址问题：https://en.wikipedia.org/wiki/Facility_location_problem

- 最简单的情况

不会无解，最坏情况是所有A点都为B点，最大费用为B点总费用。

- 随机B点+最小费用最大流

随机B点，那么 B点总费用 已知，剩下的用 最小费用最大流 求解即可。

建图：

增加源点s和汇点t，除了原有的边(i, j, k, c)，再加上以下的边：

(s, b_i, oo, 0)

(a_i, t, a_i_need, 0)

在最小费用最大流后得到的流量图上搜索从源点到汇点的路径，每走到一条有流量的路径就把这条路径上的流量删掉继续搜索。
